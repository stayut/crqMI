<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Functions to fit censored quantile regression models with...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for crqMI {crqMI}"><tr><td>crqMI {crqMI}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Functions to fit censored quantile regression models with covariates subject to detection limits
</h2>

<h3>Description</h3>

<p>The method is developed using some techniques in Peng and Huang (2008) and Wang and Feng (2012).
</p>


<h3>Usage</h3>

<pre>
crqMI(Y, Z, X, d, delta.v, delta.t, Imp = NULL, M = 10,
tau=c(0.25,0.5,0.75), ctype="left", seed=TRUE,
pi.fam="logistic",se=FALSE, Boot=100, shrinkage=FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>Y</code></td>
<td>
<p> survival outcomes.

</p>
</td></tr>
<tr valign="top"><td><code>Z</code></td>
<td>
<p> observations of censored covariates.

</p>
</td></tr>
<tr valign="top"><td><code>X</code></td>
<td>
<p> fully observed covariates.

</p>
</td></tr>
<tr valign="top"><td><code>d</code></td>
<td>
<p> detection limits for censored covariates Z.

</p>
</td></tr>
<tr valign="top"><td><code>delta.v</code></td>
<td>
<p> censoring indicators for Z.  1 indicates observed otherwise censored.

</p>
</td></tr>
<tr valign="top"><td><code>delta.t</code></td>
<td>
<p> censoring indicators for Y. 1 indicates observed otherwise censored.

</p>
</td></tr>
<tr valign="top"><td><code>Imp</code></td>
<td>
<p> imputation matrix. Default is <code>Imp=NULL</code>, regarding (X,log(Y),delta.c) as the impuation model.

</p>
</td></tr>
<tr valign="top"><td><code>M</code></td>
<td>
<p> the number of imputation times

</p>
</td></tr>
<tr valign="top"><td><code>tau</code></td>
<td>
<p>the quantile(s) at which the model is to be estimated.

</p>
</td></tr>
<tr valign="top"><td><code>ctype</code></td>
<td>
<p> censoring type(s) of censored covariate(s), left or right censored. It can be a character or a vector of characters. By default <code>ctype="left"</code>, regarding all censored covariates as left-censored.

</p>
</td></tr>
<tr valign="top"><td><code>seed</code></td>
<td>
<p> If <code>seed=TRUE</code>, see seed in the computation.

</p>
</td></tr>
<tr valign="top"><td><code>pi.fam</code></td>
<td>
<p>Default is <code>pi.fam="logistic"</code>, using logistic regression to estimate the conditional censoring probability Pr(delta.v=0|imp). Another choice is <code>pi.fam="probit"</code>

</p>
</td></tr>
<tr valign="top"><td><code>se</code></td>
<td>
<p> If <code>se=TRUE</code>, returning the estimates of standard error (SE) based on the Bootstrap method. Default is <code>se=FALSE</code>
</p>
</td></tr>
<tr valign="top"><td><code>Boot</code></td>
<td>
<p> the number of bootstrap resamples to estimate SE. Default is <code>Boot=100</code>
</p>
</td></tr>
<tr valign="top"><td><code>shrinkage</code></td>
<td>
<p>If <code>shrinkage=TRUE</code>, returning the shrinkage estimate. Default is <code>shrinkage=FALSE</code>
</p>
</td></tr>
</table>


<h3>Value</h3>



<table summary="R valueblock">
<tr valign="top"><td><code>estimate </code></td>
<td>
<p>a list of estimates obtained from complete case analysis (CC), naive method ignoring censoring of covariates (filld), the proposed method (MI) and its shrinkage version (SMI) </p>
</td></tr>
<tr valign="top"><td><code>se</code></td>
<td>
<p>a list of estimated stardard errors obtained from complete case analysis (CC), naive method ignoring censoring of covariates (filld), the proposed method (MI) and its shrinkage version (SMI)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yu Tonghui, Xiang Liming and Wang Huixia Judy.
</p>


<h3>References</h3>

<p>Peng, L. and Huang, Y. (2008). Survival analysis with quantile regression models, J. Am. Stat. Assoc., 103, 637-649.
</p>
<p>Wang, H.J. and Feng, X. (2012) Multiple imputation for m-regression with censored covariates, J. Am. Stat. Assoc., 104, 1117-1128.
</p>


<h3>See Also</h3>

<p><code><a href="../../quantreg/html/crq.html">crq</a></code>

</p>


<h3>Examples</h3>

<pre>
library(crqMI)
set.seed(1234)
datasim=sim(n=100)
data = datasim$obs.data

tau=c(0.3,0.5)

############  if SEs are not required #####
out=crqMI(Y= data$Y, Z= data$Z, X=data$X, d= datasim$d,
          delta.v=data$delta.v, delta.t=data$delta.t,  Imp=NULL,
          M = 10, tau=tau, ctype= datasim$ctype,seed=T,
          pi.fam="logistic",se=FALSE,shrinkage=TRUE)

MI=out$estimate$MI  ## MI estimates
CC=out$estimate$CC  ## CC estimates
true.par =datasim$true.par[,paste(tau)]
print(round(cbind(MI-true.par,CC-true.par),3)) # the estimation errors

############  need to compute SEs and shrinkage estimates#####
out=crqMI(Y= data$Y, Z= data$Z, X=data$X, d= datasim$d,
          delta.v=data$delta.v, delta.t=data$delta.t,  Imp=NULL,
          M = 10, tau=tau, ctype= datasim$ctype,seed=T,
          pi.fam="logistic",se=TRUE,Boot=100,shrinkage=TRUE)


MI=out$estimate$MI  ## MI estimates
CC=out$estimate$CC  ## CC estimates
SMI=out$estimate$SMI ## shrinkage estimates
## estimation error and SE
true.par =datasim$true.par[,paste(tau)]
print(round(cbind(MI-true.par,SMI-true.par,CC-true.par),3))
print(round(cbind(out$se$MI,out$se$SMI,out$se$CC),3))


</pre>

<hr /><div style="text-align: center;">[Package <em>crqMI</em> version 0.1.0 <a href="00Index.html">Index</a>]</div>
</body></html>
